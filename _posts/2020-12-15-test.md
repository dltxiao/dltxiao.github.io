---
layout: post
title: Oracle11g 数据库操作
---
## DDL 数据定义语句
```SQL
CREATE TABLE product
(
ProductId VARCHAR2(10),
ProductName VARCHAR2(20),
ProductPrice NUMBER(8,2),
Quantity NUMBER(10),
Category VARCHAR2(10),
Desperation VARCHAR2(1000),
Origin VARCHAR2(10)
);

ALTER TABLE product
ADD remark VARCHAR2(200);

ALTER TABLE product
MODIFY remark NUMBER(2,2);

ALTER TABLE product
DROP COLUMN remark;

ALTER TABLE product
MODIFY PRODUCTNAME VARCHAR2(25);
ADD remark VARCHAR2(200);

DROP TABLE PRODUCT;
```

## 约束
### 主键约束
在创建数据表时定义主键约束
```SQL
CREATE TABLE categoryinfo
(
CategoryId VARCHAR2(10),
CategoryName varchar(30),
PRIMARY KEY(CategoryId)
);
```
在修改数据表时定义主键约束
```SQL
ALTER TABLE product
ADD CONSTRAINT pk_ProductId PRIMARY KEY(ProductId);
```
移除主键约束
```SQL
ALTER TABLE product
DROP CONSTRAINT pk_ProductId;
```

### 外键约束
外键约束是建立在两张表中的约束，需要在创建表的语句后面加上如下语句：
```SQL
CONSTRAINT constraint_name FOREIGN KEY(column_name)
REFERENCE table_name(column_name)
ON DELETE CASCADE;
```

constraint_name：创建的外键约束名字。

FOREIGN KEY(column_name)：指定外键约束的列名。

REFERENCE：要引用的表名（列名）。

ON DELETE CASCADE：设置级联删除，当主键的字段被删除时，外键所对应的字段也被同时删除。

在创建数据表时定义外键约束
```SQL
CREATE TABLE productInfo1
(
productid VARCHAR2(10),
productname VARCHAR2(20),
productprice NUMBER(8,2),
quantity number(10),
category VARCHAR2(10),
desperation VARCHAR2(1000),
origin VARCHAR2(10),
PRIMARY KEY(productid),
CONSTRAINT fk_pro FOREIGN KEY(category)
REFERENCES categoryinfo(categoryid)
ON DELETE CASCADE
);
```

在修改数据表时定义外键约束
```SQL
ADD CONSTRAINT constraint_name FOREIGN KEY(column_name)
REFERENCE table_name(column_name)
ON DELETE CASCADE;
```

移除外键约束
```SQL
ALTER TABLE productinfo1
DROP CONSTRAINT fk_pro;
```

### check约束
CHECK约束是检查约束，能够规定每一个列能够输入的值，以保证数据的正确性。

在创建数据表时定义check约束
```SQL
CREATE TABLE custominfo
(
CustomId VARCHAR2(10),
Name VARCHAR2(10),
Age NUMBER(2),
Gender VARCHAR2(2),
Tel VARCHAR2(11),
Address VARCHAR2(100),
CONSTRAINT CHK_AGE CHECK(Age >=18 and Age<=50)
);
```

在修改数据表时定义check约束
```SQL
ALTER TABLE custominfo
add CONSTRAINT chk_gender CHECK(Gender='男' or Gender='女');
```

移除check约束
```SQL
ALTER TABLE custominfo
DROP CONSTRAINT chk_gender;
```

### unique约束
在创建数据表时定义unique约束
```SQL
CREATE TABLE orderinfo
(
OrderId VARCHAR2(10),
CustomId VARCHAR2(10),
ProductId VARCHAR2(10),
OrderDate VARCHAR2(10),
OrderQuantity number(10),
SendDate VARCHAR2(10),
CONSTRAINT UNQ_ORDERID UNIQUE(OrderId)
);
```

在修改表时定义unique约束
```SQL
ALTER TABLE orderinfo
ADD CONSTRAINT UNQ_CUSTOMID UNIQUE(CustomId);
```

移除unique约束
```SQL
ALTER TABLE orderinfo
DROP CONSTRAINT UNQ_CUSTOMID;
```

### not null约束
NOT NULL约束就是非空约束，经常会在创建表时添加非空约束以确保字段必须要输入值。

在创建数据表时定义非空约束
```SQL
CREATE TABLE managerinfo
(
ManagerId VARCHAR2(10),
LoginName varchar2(10) NOT NULL,
Password VARCHAR2(10) NOT NULL,
Name VARCHAR2(10),
Tel VARCHAR2(11)
);
```

在修改表时定义非空约束
```SQL
ALTER TABLE managerinfo
MODIFY Name NOT NULL;
```
对于非空约束不需要删除，如果要取消某个列非空的约束，直接使用MODIFY语句把该列的非空约束写成NULL即可。

## DML 数据操纵语言 and DQL 数据查询语言
### Insert操作
语法
```SQL
INSERT INTO table_name(column_name1,column_name2,...)VALUES(data1,data2...);
```

### Update操作

### Delete操作

### Select操作

### 其他操纵语言

